// ðŸ§ Built-in recipe data â€” you can trim this later if needed
const recipeData = [
  {
    "_id": 4,
    "name": "Lemon Pound Cake",
    "img_name": "images/desserts/lemonpoundcake.webp",
    "description": "Moist, dense lemonâ€flavored pound cake drizzled with a tangy lemon glaze.",
    "ingredients": [
      "3 cups all-purpose flour",
      "1/2 tsp baking soda",
      "1/2 tsp salt",
      "1 cup of unsalted butter at room temperature",
      "3 cups of sugar",
      "6 eggs at room temperature",
      "1/3 cup of lemon juice",
      "1 1/4 tsp grated lemon zest",
      "1 cup of sour cream"
    ],
    "instructions": [
      "Preheat oven to 325 degrees. Grease tube or bundt pan. Dust pan with flour, then tap out excess.",
      "Sift flour, baking soda and salt into medium bowl, set aside. Using electric mixer, beat butter in large bowl at lot to medium speed until fluffy. Gradually add sugar and beat for 5 minutes.",
      "Add eggs 1 at a time, beating just until combined after each egg is added. Beat in lemon juice and zest. Using a rubber spatula, mix in dry ingredients. Mix in sour cream.",
      "Pour batter to prepared pan. ** The batter will be thick. Bake cake until tester inserted near center comes out clean, about 1 hour 20 minutes.",
      "Let cake cool in pan on rack 15 minutes then turn out cake onto a plate or cake stand. Carefully turn cake right side up on rack and cool completely.",
      "For an extra touch â€“ drizzle glaze made of 1 cup confectioners sugar and 2-3 tablespoons of fresh lemon juice over cake."
    ]
  },
  {
    "_id": 5,
    "name": "Apple Pie",
    "img_name": "images/desserts/applepie.webp",
    "description": "Classic doubleâ€crust apple pie spiced with cinnamon and nutmeg, baked until golden.",
    "ingredients": [
      "2 (9 inch) pie crusts",
      "7 large granny smith apples",
      "1/2 cup granulated sugar",
      "1/2 cup light brown sugar",
      "2 tsp all-purpose flour",
      "1 tsp ground cinnamon",
      "1/8 tsp ground nutmeg",
      "1 tsp lemon juice",
      "1 large egg",
      "2 tsb sanding sugar"
    ],
    "instructions": [
      "Start by preparing this flaky pie crust recipe which makes 2 (9 inch) pie crusts, one for the bottom and one for the top of the pie. The pie dough will need to chill for at least 1 hour before rolling out. Or use a store-bought pie crust and follow package directions.",
      "Place oven rack in the center position and Preheat the oven to 400Â°F. In a large bowl, combine the sliced apples, granulated sugar, light brown sugar, flour, cinnamon, nutmeg, and lemon juice and lemon zest; toss to coat evenly.",
      "Remove the pie crust dough from the fridge and let rest at room temperature for 5-10 minutes. On a lightly floured surface, roll one disc into a 12 inch circle that is 1/3 thick. Carefully lay the crust into the bottom of a deep dish pie plate.",
      "Spoon the apple filling over the bottom crust and discard juices at the bottom of the bowl. Roll out the second disc of pie crust until it is 1/8 thick and lay it over the apple filling.",
      "Use a sharp knife to trim the dough along the outside edge of the pie plate. Lift the edges where the two pie crust meet, gently press to seal and fold them under. Rotate the pie plate and repeat this process until edges are neatly tucked under themselves. Cut 4 slits in the top of the dough to allow steam to vent. Place the pie on a baking sheet.",
      "Brush the surface of the pie crust with the egg wash and sprinkle with sanding sugar. Cover the edges with a pie shield or a strip of foil to keep them from over browning during the first 25 minutes.",
      "Bake at 400Â°F (204Â°C) for 25 minutes. Carefully remove the pie shield, turn the oven down to 375Â° and continue to bake for an additional 30-35 minutes or until the top is golden brown and the juices are bubbly. Cool at room temperature for at least 3 hours."
    ]
  },
  {
    "_id": 9,
    "name": "Frosted Red Velvet Cookies",
    "img_name": "images/desserts/redvelvet.jpg",
    "description": "",
    "ingredients": [
      "2 ounces unsweetened chocolate, chopped",
      "1/2 cup butter, softened",
      "2/3 cup packed brown sugar",
      "1/3 cup sugar",
      "1 large egg, room temperature",
      "1 tablespoon red food coloring",
      "1 teaspoon vanilla extract",
      "2 cups all-purpose flour",
      "1/2 teaspoon baking soda",
      "1/2 teaspoon salt",
      "1 cup sour cream",
      "1 cup semisweet chocolate chips",
      "1 can (16 ounces) cream cheese frosting",
      "Sprinkles, optional"
    ],
    "instructions": [
      "In a microwave, melt unsweetened chocolate; stir until smooth. Cool.",
      "In a large bowl, cream butter and sugars until light and fluffy, 5-7 minutes. Beat in the egg, food coloring and vanilla. Add cooled chocolate; beat until blended. In another bowl, mix the flour, baking soda and salt; add to creamed mixture alternately with sour cream, beating well after each addition. Stir in chocolate chips.",
      "Drop by tablespoonfuls 2 in. apart onto parchment-lined baking sheets. Bake at 375Â° for 6-9 minutes or until set. Remove to wire racks to cool completely. Spread with frosting. If desired, decorate with sprinkles."
    ]
  },
  {
    "_id": 2,
    "name": "Strawberry Shortcake",
    "img_name": "images/desserts/strawberrycake.jpg",
    "description": "Light, fluffy shortcake topped with macerated strawberries and fresh whipped cream.",
    "ingredients": [
      "1/2 cup of granulated sugar",
      "1/4 of melted salted butter",
      "1 large eggs",
      "1 1/2 cups ofall-purpose flour",
      "1/2 cup of whole milk",
      "1-2 pounds of Strawberries",
      "2-4 cups of whipped cream",
      "1 tsp of vanilla extract",
      "2 tsp of baking powder"
    ],
    "instructions": [
      "Prepare the strawberries by cutting or slicing and placing in a bowl with a little sugar on top and a dash of lemon juice. Place in the refrigerator for about 30 minutes before making the shortcake.",
      "Preheat the oven to 350Â° and grease a 9-inch square baking dish (or line it with parchment).",
      "In a medium bowl, add the sugar and melted butter and stir to combine well.",
      "Add the egg and vanilla and stir to combine. Add the flour, baking powder, and salt, and beat with a stand mixer on medium-high speed to combine.",
      "Add the milk and beat again until the mixture is smooth with no lumps. Place the batter in the prepared pan. Bake for 20-25 minutes, until the cake is lightly golden brown and springs back when lightly touched.",
      "Remove from the oven and allow to cool at least 30 minutes before serving. To serve, slice the cake into 9 pieces. Remove one piece from the pan and split it down the middle. Top half of the cake with strawberries and whipped cream, add the second half of cake, and top with more whipped cream and strawberries."
    ]
  }
];


const openRecipeModal = (recipeId) => {
  const recipe = recipeData.find(r => r._id == recipeId);
  if (!recipe) return;

  document.getElementById("modal-title").textContent = recipe.name;
  document.getElementById("modal-description").textContent = recipe.description;

  const modalImg = document.getElementById("modal-image");
  modalImg.src = recipe.img_name || "";
  modalImg.alt = recipe.name || "";

  const ingredientsList = document.getElementById("modal-ingredients");
  ingredientsList.innerHTML = "";
  recipe.ingredients.forEach(ing => {
    const li = document.createElement("li");
    li.textContent = ing;
    ingredientsList.appendChild(li);
  });

  const instructionsList = document.getElementById("modal-instructions");
  instructionsList.innerHTML = "";
  recipe.instructions.forEach(step => {
    const li = document.createElement("li");
    li.textContent = step;
    instructionsList.appendChild(li);
  });

  document.getElementById("recipe-modal").style.display = "flex";
};

const closeRecipeModal = () => {
  document.getElementById("recipe-modal").style.display = "none";
};

window.addEventListener("click", (event) => {
  const modal = document.getElementById("recipe-modal");
  if (event.target === modal) {
    closeRecipeModal();
  }
});

document.addEventListener("DOMContentLoaded", () => {
  const slides = document.querySelectorAll('.hero-slider .slide');
  let currentIndex = 0;

  const showSlide = (idx) => {
    slides.forEach((slide, i) => {
      slide.classList.toggle('active', i === idx);
    });
  };

  const nextSlide = () => {
    currentIndex = (currentIndex + 1) % slides.length;
    showSlide(currentIndex);
  };

  setInterval(nextSlide, 5000);

  // Attach modal to recipe cards
  document.querySelectorAll('.card[data-recipe-id]').forEach(card => {
    const id = parseInt(card.getAttribute("data-recipe-id"));
    card.addEventListener("click", () => openRecipeModal(id));
  });
});